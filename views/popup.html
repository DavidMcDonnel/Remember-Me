<html ng-app="rememberMe" ng-csp>
  <head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
    <link type="text/css" rel="stylesheet" href="../public/stylesheets/angular-csp.css"/>
    <link type="text/css" rel="stylesheet" href="../UI/RMpopup.css"/>

    <title>RememberMe</title>

    <!-- <script src="../UI/RMpopup.js"></script> -->
   <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.10/angular.min.js"></script>
    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"> </script> -->
    <script src="/public/javascripts/angularApp.js"></script>

  </head>

  <body ng-controller="MainCtrl" ng-init="init()">
    <h3> Remember-Me </h3>

    <div ng-show="isLoggedIn()">Hello {{ currentUser() }}</div>

    <div id="register" ng-hide="isLoggedIn()"> 
      <div ng-show="error" class="alert alert-danger row">
        <span>{{ error.message }}</span>
      </div>
      <form ng-submit="register()" style="margin-top:30px;">
        <h4>Register</h4>
        <div class="form-group">
         <input type="text" class="form-control"placeholder="Username"ng-model="user.username"></input>
        </div>
        <div class="form-group">
          <input type="password"class="form-control"placeholder="Password"ng-model="user.password"></input>
        </div>
        <button type="submit" class="btn btn-primary">Register</button>
      </form>
    </div>

    <div id="login" ng-hide="isLoggedIn()">
      <div ng-show="error" class="alert alert-danger row">
        <span>{{ error.message }}</span>
      </div>
      <form ng-submit="logIn()"style="margin-top:30px;">
      <h4>Log In</h4>
      <div class="form-group">
        <input type="text"class="form-control" placeholder="Username"ng-model="user.username"></input>
      </div>
      <div class="form-group">
        <input type="password"class="form-control"placeholder="Password"ng-model="user.password"></input>
      </div>
      <button type="submit" class="btn btn-primary">Log In</button>
      </form>
    </div>

    <div id="logout" ng-show="isLoggedIn()">
      <form ng-submit="logOut()"style="margin-top:30px;">
        <button type="submit" class="btn btn-primary">Log Out</button>
      </form>
    </div>

    <div id="articles" ng-show="isLoggedIn()">
      <ul>
        <li ng-repeat="article in articles | limitTo:3">
          <a href="#" ng-click="createTab(article.link)">{{article.name}}</a>
          <p ng-show="article.note">{{article.note}}</p>
          <hr/>
        <!--   <div ng-show="{{article.note}}">
            <span class="glyphicon glyphicon-info-sign" tooltip="{{article.name}}"></span>
            <p> {{article.note}} </p>
          </div> -->
        </li>
      </ul>
    </div>

    <br>

    <div id="addNewArticle" ng-show="isLoggedIn()">
      <button ng-hide="newArticle" ng-click="toggleNew()">New</button>

      <div ng-show="newArticle">
        <form ng-submit="addArticle()">
        Name: <input type="text" ng-model="name"></input>
        Note: <input type="text" ng-model="note"></input>
        Reminder: <select ng-model="remind_on" ng-options="opt for opt in remind_options"></select>
          <button type="submit"> Add </button>
        </form>
      </div>
    </div>

  </body>

</html>

